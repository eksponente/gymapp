language: go

go:
  - 1.4.2

sudo: false
dist: trusty
addons:
  postgresql: "9.6"
services:
  - postgresql

go_import_path: gymapp

before_install:
  - go get github.com/tools/godep



install:
  - godep restore

before_script:
  - psql -c 'create database gymapptest;' -U postgres
  - psql -c "create user testuser with password 'slaptazodis';" -U postgres
  - psql -c "grant all privileges on database gymapptest to testuser;" -U postgres
  - go get github.com/revel/cmd/revel

script:
  - revel test gymapp testing
